/* =========================================
   FEATURED PROJECTS — 3D CAROUSEL
   Drop-in CSS (replaces previous grid styles)
   ========================================= */

/* Section spacing */
.featured-projects{
  padding:10vh 8vw;
}

/* ---------- Layout + Sizing Vars ---------- */
.featured-projects{
  /* central card width & aspect ratio */
  --proj-card-w: clamp(280px, 60vw, 820px);
  --proj-aspect: 0.5625; /* 16/9 */
  --proj-card-h: calc(var(--proj-card-w) * var(--proj-aspect));

  /* 3D + spacing tuning */
  --perspective: 1600px;
  --side-angle: 32deg;   /* 3/4 view */
  --side-gap:  clamp(120px, 16vw, 260px); /* horizontal spread between stacked cards */
  --depth-step: 120px;   /* translateZ per layer */
  --scale-step: 0.07;    /* how much each layer shrinks */
  --visible-layers: 4;   /* per side */
}

/* Desktop: same 75% width convention you used */
@media (min-width:1024px){
  .featured-projects .carousel-wrap{ width:75%; }
}

/* ---------- Carousel Shell ---------- */
.carousel-wrap{
  position:relative;
  width:100%;
  margin:0 auto;
  height:var(--proj-card-h);
  perspective:var(--perspective);
  perspective-origin:center;
  overflow:visible; /* allow side stacks to breathe */
}

/* Invisible hover zones that drive speed/direction */
.carousel-wrap .hover-zone{
  position:absolute; top:0; width:50%; height:100%;
  z-index:20; cursor:ew-resize;
  /* keep them invisible, but give a tiny feedback on hover */
  background: linear-gradient(to right, rgba(255,255,255,0.06), rgba(255,255,255,0.00));
  opacity:0;
  transition:opacity .18s ease;
  pointer-events:auto;
}
.carousel-wrap .hover-zone.left{ left:0; transform:scaleX(-1); } /* reuse gradient */
.carousel-wrap .hover-zone.right{ right:0; }
.carousel-wrap:hover .hover-zone{ opacity:.04; } /* barely visible hint */

/* Track holds absolutely-positioned cards */
.carousel-track{
  position:absolute; inset:0;
  transform-style:preserve-3d;
}

/* ---------- Cards ---------- */
.project-card{
  position:absolute; left:50%; top:50%;
  width:var(--proj-card-w); height:var(--proj-card-h);
  transform: translate(-50%,-50%);
  transform-style:preserve-3d;
  will-change: transform, opacity;
  transition: transform 380ms cubic-bezier(.22,.61,.36,1), opacity 220ms ease, filter 220ms ease;
  opacity:1;
  pointer-events:none; /* carousel is hover-driven; no lift-on-hover */
  display:flex; flex-direction:column;
  background: var(--color-secondary);
  border:1px solid var(--color-border);
  border-radius:12px;
  box-shadow:
    0 2px 10px rgba(0,0,0,0.08),
    0 1px 0 rgba(255,255,255,0.02) inset;
  overflow:hidden;
}

/* No hover “up” effect */
.project-card:hover{ transform: none; }

/* Media */
.project-card img{
  width:100%; height:auto;
  aspect-ratio:16/9; object-fit:cover; display:block;
  border-top-left-radius:12px; border-top-right-radius:12px;
}

/* Content */
.project-card .card-content{
  padding:1.25rem; display:flex; flex-direction:column; min-height:0; flex-grow:1;
  font-size:.95rem; line-height:1.45;
}
.project-card .card-content h4,
.project-card .card-content h3{
  margin:0 0 .5rem 0; font-size:1.1rem; line-height:1.25;
}
.project-card .card-content p{ margin:0 0 .75rem 0; }
.project-card .card-content a{
  color:var(--color-accent);
  font-size:.9rem; text-decoration:none; font-weight:600;
  transition: color .2s ease, transform .2s ease;
  margin-top:auto;
}
.project-card .card-content a:hover{ color:var(--color-primary); transform: translateX(2px); }

/* Depth fading & layering (applied by JS with classes) */
.project-card.is-hidden{ opacity:0; pointer-events:none; }
.project-card.is-side{ filter: saturate(.9) contrast(.98); }
.project-card.is-center{ filter: none; }

/* ---------- Optional: tiny hint masks at edges ---------- */
.carousel-wrap::before,
.carousel-wrap::after{
  content:""; position:absolute; top:0; width:12%; height:100%; z-index:15; pointer-events:none;
  background: linear-gradient(to right, rgba(0,0,0,.12), transparent);
  opacity:.35;
}
.carousel-wrap::after{
  right:0; left:auto;
  transform:scaleX(-1);
}

/* ---------- Accessibility helpers (visually hidden) ---------- */
.carousel-nav{
  position:absolute; inset:auto auto 0 0; width:1px; height:1px; overflow:hidden; clip:rect(0 0 0 0);
}

/* ---------- “Security locks” you used ---------- */

/* Prevent text selection */
#projects, 
#projects *{
  user-select:none;
}

/* Block image dragging, context menus, and pointer interactions */
#projects img{
  pointer-events:none;
  -webkit-user-drag:none;
  user-drag:none;
}

/* Disable right-click on the entire section */
#projects{
  -webkit-touch-callout:none;
  -webkit-user-select:none;
  -moz-user-select:none;
  -ms-user-select:none;
}

/* ---------- Light/Dark friendliness ----------
   Uses your existing CSS variables for colors. If you have
   body[data-theme="dark"] exchanging the variables, this
   component will follow automatically.
*/
