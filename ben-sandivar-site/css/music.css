/* utilities */
[hidden]{display:none!important;}
.hidden{display:none!important;}

/* Shell + fixed height + 75% width */
.music-player{ padding:10vh 8vw; display:flex; flex-direction:column; align-items:center; }
.music-shell{
  width:100%; margin:0 auto; border-radius:28px; position:relative;
  background: radial-gradient(120% 120% at 60% 20%, rgba(255,255,255,.05), rgba(0,0,0,.4));
  border:1px solid rgba(255,255,255,.08);
  box-shadow:0 20px 80px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);
  display:flex; flex-direction:column;
  height: clamp(560px, 72vh, 860px); /* fixed app height */
  padding:2.25rem 2rem 1.25rem;
}
@media (min-width:1024px){ .music-shell{ width:75%; } }
.page-header{ text-align:center; }

/* Mode lights */
.mode-lights{ position:absolute; top:.6rem; left:50%; transform:translateX(-50%); display:flex; gap:.5rem; align-items:center; }
.mode-lights .light{
  width:12px; height:12px; border-radius:999px; border:0; cursor:pointer;
  background: radial-gradient(circle at 35% 35%, #7ab8ff 10%, #1f6fff 70%, #0036e8 100%);
  box-shadow: 0 0 10px rgba(47,132,255,.9), 0 0 18px rgba(47,132,255,.5);
  opacity:.55; transition:opacity .2s ease, transform .08s ease;
}
.mode-lights .light.on{ opacity:1; }
.mode-lights .light:active{ transform:scale(.92); }

/* hover-only hint */
.mode-lights .hint{
  position:absolute; top:1.6rem; left:50%; transform:translateX(-50%);
  padding:.35rem .6rem; font-size:.72rem; border-radius:10px;
  background: rgba(255,255,255,.12); color: var(--color-primary);
  border:1px solid rgba(255,255,255,.18); backdrop-filter: blur(6px);
  opacity:0; pointer-events:none; transition:opacity .2s ease;
}
.mode-lights:hover .hint{ opacity:1; }

/* Scroll area inside the app (views only) */
.views-wrap{ flex:1; overflow:auto; padding-top:.25rem; }

/* List view: album art + playlist */
.albums-view{ display:grid; gap:1.75rem; }
.album-row{
  display:grid; grid-template-columns:140px 1fr; gap:1rem;
  background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08);
  border-radius:18px; padding:1rem;
}
@media (max-width:720px){ .album-row{ grid-template-columns:100px 1fr; } }
.album-art-col{ display:flex; align-items:flex-start; justify-content:center; }
.album-art{
  width:120px; height:120px; border-radius:12px; object-fit:cover;
  box-shadow:0 8px 18px rgba(0,0,0,.28);
}
@media (max-width:720px){ .album-art{ width:90px; height:90px; } }

.playlist-col{ display:flex; flex-direction:column; gap:.6rem; }
.playlist-head{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.playlist-head h3{ margin:0; font-size:1.1rem; }

.icon-btn.play-all{
  width:34px; height:34px; border-radius:10px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--color-primary);
  backdrop-filter: blur(6px);
}

.track-list{ list-style:none; margin:0; padding:0; display:grid; gap:.3rem; }
.track-row{
  display:grid; grid-template-columns:1fr auto; align-items:center;
  padding:.45rem .6rem; border-radius:10px; transition:background .2s ease;
}
.track-row:hover{ background: rgba(255,255,255,.05); }
.track-row.active .t-title{ font-weight:700; } /* bold selection */
.t-title{ text-align:left; }
.t-time{ text-align:right; opacity:.82; min-width:3.2rem; }

/* Track mode */
.music-shell.track-bg{
  background: var(--stage-bg, radial-gradient(120% 120% at 50% 25%, rgba(0,0,0,.3), rgba(0,0,0,.85)));
}
.track-view{ border-radius:22px; padding:2rem 1.25rem; }
.track-stage{ display:grid; gap:1rem; justify-items:center; }
.stage-art-wrap{
  width:min(42%, 440px); aspect-ratio:1/1; position:relative; border-radius:18px;
  /* subtle shadow lift, no neon */
  box-shadow: 0 14px 32px rgba(0,0,0,.35);
  /* reflection fade below */
  -webkit-box-reflect: below 18px
    linear-gradient(transparent, rgba(0,0,0,.08) 30%, rgba(0,0,0,.35) 70%, rgba(0,0,0,.9));
}
#stage-art{ width:100%; height:100%; object-fit:cover; border-radius:18px; display:block; }
.stage-meta{ text-align:center; }
#stage-title{ margin:.2rem 0 0; font-size:1.15rem; }
#stage-album{ margin:.1rem 0 0; opacity:.75; }

/* Player bar */
.player-bar{
  margin-top:1rem;
  display:grid; grid-template-columns:auto 1fr; gap:1rem; align-items:center;
  padding:.85rem 1rem; border-radius:16px; border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06); backdrop-filter: blur(10px);
}
@media (min-width:760px){ .player-bar{ grid-template-columns:auto auto 1fr; } }

.now{ display:grid; grid-template-columns:auto 1fr; gap:.6rem; align-items:center; }
.now-art{ width:40px; height:40px; border-radius:8px; object-fit:cover; box-shadow:0 4px 12px rgba(0,0,0,.25); }
.now-meta{ display:flex; flex-direction:column; line-height:1.1; }
.now-meta small{ opacity:.75; }

.controls{ display:flex; gap:.5rem; align-items:center; }
.icon-btn{
  display:grid; place-items:center; width:36px; height:36px; border-radius:12px;
  border:1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.06); color: var(--color-primary);
  transition: box-shadow .2s ease, border-color .2s ease, transform .06s ease;
}
.icon-btn:hover{ border-color: rgba(0,110,255,.5); box-shadow: 0 0 12px rgba(47,132,255,.35); }
.icon-btn:active{ transform:scale(.97); }
.icon-btn.primary{ width:42px; height:42px; color:#fff; background: rgba(0,110,255,.18); border-color: rgba(0,110,255,.55); }
.icon-btn.active{ box-shadow: 0 0 16px rgba(47,132,255,.6); }

.progress{ display:grid; grid-template-columns:auto 1fr auto; gap:.6rem; align-items:center; }
.time{ font-variant-numeric: tabular-nums; opacity:.85; min-width:3ch; text-align:right; }

.bar{ position:relative; height:14px; }
#seek{ -webkit-appearance:none; appearance:none; width:100%; height:14px; margin:0; background:transparent; position:relative; z-index:2; }
#seek::-webkit-slider-runnable-track{ height:14px; background: rgba(255,255,255,.18); border-radius:999px; }
#seek::-moz-range-track{ height:14px; background: rgba(255,255,255,.18); border-radius:999px; }
#seek::-webkit-slider-thumb{
  -webkit-appearance:none; width:16px; height:16px; border-radius:50%; margin-top:-1px;
  background:#fff; border:1px solid rgba(47,132,255,.9); box-shadow:0 0 12px rgba(47,132,255,.95);
}
#seek::-moz-range-thumb{
  width:16px; height:16px; border-radius:50%;
  background:#fff; border:1px solid rgba(47,132,255,.9); box-shadow:0 0 12px rgba(47,132,255,.95);
}
/* Deeper electric-blue fill */
.bar .neon{
  --pct:0;
  position:absolute; left:0; top:50%; transform:translateY(-50%);
  height:6px; width: calc(var(--pct) * 1%); border-radius:999px;
  background: linear-gradient(90deg, #0a5bff, #2f84ff);
  box-shadow: 0 0 18px #2f84ff, 0 0 36px rgba(47,132,255,.65);
  z-index:1;
}
