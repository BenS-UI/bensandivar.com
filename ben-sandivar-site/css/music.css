/* Shell + width */
.music-player { padding: 10vh 8vw; display:flex; flex-direction:column; align-items:center; }
.music-shell  {
  width: 100%;
  margin: 0 auto;
  border-radius: 28px;
  position: relative;
  padding: 2rem 2rem 1rem;
  background: radial-gradient(120% 120% at 60% 20%, rgba(255,255,255,.05), rgba(0,0,0,.4));
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 20px 80px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);
}
@media (min-width:1024px){ .music-shell { width: 75%; } }

/* top status lights */
.status-lights { position:absolute; top:.75rem; left:50%; transform:translateX(-50%); display:flex; gap:.4rem; }
.status-lights .dot { width:10px; height:10px; border-radius:999px; filter:blur(.2px); }
.status-lights .cyan { background:#7af3ff; box-shadow: 0 0 12px #00e5ff, 0 0 24px rgba(0,229,255,.6); }
.status-lights .magenta { background:#ff84ea; box-shadow: 0 0 12px #ff43d1, 0 0 24px rgba(255,67,209,.5); }

/* mode buttons */
.mode-toggle{ margin-top:.75rem; display:flex; gap:.5rem; justify-content:center; }
.ui-btn{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.5rem .9rem; border-radius:12px; border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06); color: var(--color-primary); cursor:pointer; font:inherit;
  backdrop-filter: blur(8px);
}
.ui-btn.active{ background: rgba(0, 150, 255,.18); border-color: rgba(0,150,255,.35); color:white; }

/* albums list */
.albums-view{ display:grid; gap:2rem; }
.album{ background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius:18px; overflow:hidden; }
.album-head{ display:grid; grid-template-columns: 110px 1fr; gap:1rem; align-items:center; padding:1rem 1rem .25rem; }
.album-art{ width:110px; height:110px; border-radius:12px; object-fit:cover; box-shadow: 0 8px 24px rgba(0,0,0,.25); }
.album-meta h3{ margin:0 0 .2rem; font-size:1.1rem; }
.album-meta p{ margin:0; opacity:.7; }

.track-list{ list-style:none; margin:0; padding:.5rem .5rem 1rem; display:grid; gap:.35rem; }
.track-row{
  display:grid; grid-template-columns: 12px 1fr auto; align-items:center;
  gap:.6rem; padding:.5rem .6rem; border-radius:12px; position:relative;
  transition: background .2s ease, box-shadow .2s ease, transform .2s ease;
}
.track-row .bullet{ width:8px; height:8px; border-radius:999px; background:rgba(255,255,255,.35); }
.track-row:hover{ background: rgba(255,255,255,.05); }
.track-row.active{
  background: rgba(0,229,255,.10);
  box-shadow: 0 0 10px rgba(0,229,255,.55), 0 0 22px rgba(0,229,255,.35);
}
.track-row.active .bullet{ background:#00e5ff; box-shadow: 0 0 10px #00e5ff; }
.t-title{ color: var(--color-primary); }
.t-time{ opacity:.75; min-width: 3.2rem; text-align:right; }

/* track mode */
.track-view{
  margin-top:1rem; border-radius:22px; padding:2rem 1.25rem;
  background: var(--stage-bg, radial-gradient(100% 120% at 50% 30%, rgba(0,0,0,.3), rgba(0,0,0,.8)));
  transition: background .3s ease;
}
.track-stage{ display:grid; gap:1rem; justify-items:center; }
.stage-art-wrap{
  width:min(40%, 420px); aspect-ratio:1/1; position:relative; border-radius:18px;
  filter: drop-shadow(0 0 28px rgba(0,229,255,.55));
  -webkit-box-reflect: below 16px linear-gradient(transparent, rgba(0,0,0,.1));
}
#stage-art{ width:100%; height:100%; object-fit:cover; border-radius:18px; display:block; }
.stage-meta{ text-align:center; }
#stage-title{ margin:.2rem 0 0; font-size:1.15rem; }
#stage-album{ margin:.1rem 0 0; opacity:.75; }

/* player bar */
.player-bar{
  margin-top:1.25rem; border-radius:16px; padding:.8rem 1rem;
  display:grid; grid-template-columns: auto 1fr; gap:1rem; align-items:center;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(10px);
}
@media (min-width:720px){
  .player-bar{ grid-template-columns: auto auto 1fr; }
}

.now{ display:grid; grid-template-columns:auto 1fr; gap:.6rem; align-items:center; }
.now-art{ width:40px; height:40px; border-radius:8px; object-fit:cover; box-shadow:0 4px 12px rgba(0,0,0,.25); }
.now-meta{ display:flex; flex-direction:column; line-height:1.1; }
.now-meta small{ opacity:.75; }

.controls{ display:flex; gap:.5rem; align-items:center; }
.icon-btn{
  display:grid; place-items:center; width:36px; height:36px; border-radius:12px;
  border:1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.05); color: var(--color-primary);
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
}
.icon-btn:hover{ box-shadow: 0 0 12px rgba(0,229,255,.35); border-color: rgba(0,229,255,.45); }
.icon-btn.primary{ width:42px; height:42px; color:white; background: rgba(0,150,255,.18); border-color: rgba(0,150,255,.5); }
.icon-btn.active{ box-shadow: 0 0 16px rgba(0,229,255,.6); }

.progress{ display:grid; grid-template-columns:auto 1fr auto; gap:.6rem; align-items:center; }
.time{ font-variant-numeric: tabular-nums; opacity:.85; min-width:3ch; text-align:right; }

.bar{ position:relative; height:14px; }
#seek{ -webkit-appearance:none; appearance:none; width:100%; height:14px; margin:0; background:transparent; position:relative; z-index:2; }
#seek::-webkit-slider-runnable-track{ height:14px; background: rgba(255,255,255,.18); border-radius:999px; }
#seek::-moz-range-track{ height:14px; background: rgba(255,255,255,.18); border-radius:999px; }
#seek::-webkit-slider-thumb{
  -webkit-appearance:none; width:16px; height:16px; border-radius:50%; margin-top:-1px;
  background:white; border:1px solid rgba(0,229,255,.8); box-shadow: 0 0 10px rgba(0,229,255,.9);
}
#seek::-moz-range-thumb{
  width:16px; height:16px; border-radius:50%;
  background:white; border:1px solid rgba(0,229,255,.8); box-shadow: 0 0 10px rgba(0,229,255,.9);
}
.bar .neon{
  --pct:0;
  position:absolute; left:0; top:50%; transform:translateY(-50%);
  height:6px; width: calc(var(--pct) * 1%); border-radius:999px;
  background: linear-gradient(90deg, #00e5ff, #6ff1ff);
  box-shadow: 0 0 12px #00e5ff, 0 0 24px rgba(0,229,255,.6);
  z-index:1;
}

/* track-mode background blend on shell */
.music-shell.track-bg{
  background: var(--stage-bg, radial-gradient(100% 120% at 50% 30%, rgba(0,0,0,.3), rgba(0,0,0,.8)));
}

/* tidy responsive */
@media (max-width:720px){
  .album-head{ grid-template-columns:80px 1fr; }
  .album-art{ width:80px; height:80px; }
  .player-bar{ grid-template-columns: 1fr; }
}
