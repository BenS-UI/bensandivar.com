<!-- homesplits/music.html -->
<section id="music" class="music-player fade-in" data-split="music">
  <div class="page-header">
    <h2>Featured Tracks</h2>
    <p>Listen to my latest audio projects.</p>
  </div>

  <div class="music-grid">
    <div class="music-card">
      <img src="assets/tracks/Musings.jpg" alt="Track 1 Album Cover" />
      <div class="music-content">
        <input type="text" class="track-title" value="Rain" />
        <audio controls preload="metadata">
          <source src="assets/tracks/Track 1.mp3" type="audio/mpeg" />
        </audio>
        <div class="eq-bars">
          <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
        </div>
      </div>
    </div>

    <div class="music-card">
      <img src="assets/tracks/Musings.jpg" alt="Track 2 Album Cover" />
      <div class="music-content">
        <input type="text" class="track-title" value="Sonata" />
        <audio controls preload="metadata">
          <source src="assets/tracks/Track 2.mp3" type="audio/mpeg" />
        </audio>
        <div class="eq-bars">
          <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
        </div>
      </div>
    </div>

    <div class="music-card">
      <img src="assets/tracks/Musings.jpg" alt="Track 3 Album Cover" />
      <div class="music-content">
        <input type="text" class="track-title" value="MÃ¼nchhausen" />
        <audio controls preload="metadata">
          <source src="assets/tracks/Track 3.mp3" type="audio/mpeg" />
        </audio>
        <div class="eq-bars">
          <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
        </div>
      </div>
    </div>

    <div class="music-card">
      <img src="assets/tracks/Musings.jpg" alt="Track 4 Album Cover" />
      <div class="music-content">
        <input type="text" class="track-title" value="Growing Old" />
        <audio controls preload="metadata">
          <source src="assets/tracks/Track 4.mp3" type="audio/mpeg" />
        </audio>
        <div class="eq-bars">
          <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
        </div>
      </div>
    </div>

    <div class="music-card">
      <img src="assets/tracks/Musings.jpg" alt="Track 5 Album Cover" />
      <div class="music-content">
        <input type="text" class="track-title" value="The Adventure Begins" />
        <audio controls preload="metadata">
          <source src="assets/tracks/Track 5.mp3" type="audio/mpeg" />
        </audio>
        <div class="eq-bars">
          <div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div><div class="eq-bar"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const section = document.querySelector('section.music-player[data-split="music"]');
      if (!section) return;

      const cards  = Array.from(section.querySelectorAll('.music-card'));
      const audios = Array.from(section.querySelectorAll('audio'));

      // Pause all others when one starts
      audios.forEach((a) => {
        a.addEventListener('play', () => {
          audios.forEach(b => { if (b !== a) b.pause(); });
          cards.forEach(c => c.classList.remove('playing'));
          const card = a.closest('.music-card');
          if (card) card.classList.add('playing');
        });
        a.addEventListener('pause', () => {
          const card = a.closest('.music-card');
          if (card) card.classList.remove('playing');
        });
        a.addEventListener('ended', () => {
          const card = a.closest('.music-card');
          if (card) card.classList.remove('playing');
        });
      });
    })();
  </script>
</section>
