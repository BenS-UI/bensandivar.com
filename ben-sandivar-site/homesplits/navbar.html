<!-- /homesplits/navbar.html -->
<nav class="navbar" role="navigation" aria-label="Primary" data-component="navbar">
  <div class="nav-container">
    <a href="#" class="logo" aria-label="Ben Sandivar — Home">
      <img src="https://raw.githubusercontent.com/BenS-UI/portfolio/cfc0bc646dc8f7cb21379d516f1b1ca0c0f85e06/B-logo-a.svg" alt="Ben Sandivar Logo" />
    </a>

    <button class="more-btn" aria-label="Toggle Menu" aria-expanded="false">
      <span class="material-symbols-outlined" aria-hidden="true">menu</span>
    </button>

    <ul class="nav-links" id="primary-nav">
      <li><a href="#hero">Home</a></li>
      <li><a href="#projects">Work</a></li>
      <li><a href="#music">Music</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="/fluid-art.html">Playground</a></li>
      <li><a href="/blog.html">Blog</a></li>
    </ul>
  </div>

  <script>
    // Tiny, self-contained toggle that won’t conflict with site scripts
    (() => {
      const nav = document.currentScript.closest('nav');
      const btn = nav.querySelector('.more-btn');
      const links = nav.querySelector('.nav-links');

      if (!btn || !links) return;

      const close = () => {
        nav.setAttribute('data-open', 'false');
        btn.setAttribute('aria-expanded', 'false');
      };
      const toggle = () => {
        const open = nav.getAttribute('data-open') === 'true';
        nav.setAttribute('data-open', String(!open));
        btn.setAttribute('aria-expanded', String(!open));
      };

      btn.addEventListener('click', toggle);
      links.addEventListener('click', e => {
        if (e.target.closest('a')) close(); // collapse menu after selecting a link
      });
      // Optional: close on outside click (mobile)
      document.addEventListener('click', e => {
        if (!nav.contains(e.target) && nav.getAttribute('data-open') === 'true') close();
      });
    })();
  </script>
</nav>
